{"ast":null,"code":"var _jsxFileName = \"/Users/alexander/Desktop/WebStormProj/spareact/src/components/AirportSearch.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useInput } from \"../hooks/input\";\nimport useDebounce from \"../hooks/debounce\";\nimport axios from \"../axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AirportSearch() {\n  _s();\n\n  const navigate = useNavigate();\n  const input = useInput();\n  const [drop, setDrop] = useState(false);\n  const [airports, setAirports] = useState([]);\n  const debounced = useDebounce(input.value);\n\n  async function searchAirports() {\n    const response = await axios.get(`airports`, {\n      params: {\n        search: debounced,\n        count: 10\n      }\n    });\n    setAirports(response.data.results);\n  }\n\n  useEffect(() => {\n    if (debounced.length > 3) {\n      searchAirports().then(() => setDrop(true));\n    } else {\n      setDrop(false);\n    }\n\n    console.log(debounced);\n  }, [debounced]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-4 relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"border py-2 px-4 mb-4 outline-0 w-full h-[42px]\",\n      placeholder: \"Search\",\n      ...input\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), drop && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-none absolute left-0 right-0 h-[200px] top-[42px] shadow-md overflow-y-scroll bg-white\",\n      children: airports.map(airport => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"mb-2 py-2 px-4 hover:bg-gray-500 hover:transition-colors cursor-pointer hover:text-white\",\n        onClick: () => navigate(`/airport/${airport.id}`),\n        children: airport.name\n      }, airport.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AirportSearch, \"Vv585snR9wmQM4RhHBFFwhyk+x8=\", false, function () {\n  return [useNavigate, useInput, useDebounce];\n});\n\n_c = AirportSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"AirportSearch\");","map":{"version":3,"names":["React","useEffect","useState","useInput","useDebounce","axios","useNavigate","AirportSearch","navigate","input","drop","setDrop","airports","setAirports","debounced","value","searchAirports","response","get","params","search","count","data","results","length","then","console","log","map","airport","id","name"],"sources":["/Users/alexander/Desktop/WebStormProj/spareact/src/components/AirportSearch.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useInput} from \"../hooks/input\";\nimport useDebounce from \"../hooks/debounce\";\nimport axios from \"../axios\";\nimport {IAirport, ServerResponse} from \"../models/models\";\nimport {useNavigate} from \"react-router-dom\";\n\n\n\nexport default function AirportSearch() {\n    const navigate = useNavigate()\n    const input = useInput()\n    const [drop, setDrop] = useState(false)\n    const [airports, setAirports] = useState<IAirport[]>([])\n    const debounced = useDebounce<string>(input.value)\n\n    async function searchAirports() {\n        const response = await axios.get<ServerResponse<IAirport>>(`airports`, {params: {search: debounced, count: 10}})\n        setAirports(response.data.results)\n    }\n\n    useEffect(() => {\n        if (debounced.length > 3) {\n            searchAirports().then(() => setDrop(true))\n        } else {\n            setDrop(false)\n        }\n        console.log(debounced)\n    }, [debounced])\n\n    return (\n        <div className=\"mb-4 relative\">\n            <input\n                type='text'\n                className=\"border py-2 px-4 mb-4 outline-0 w-full h-[42px]\"\n                placeholder=\"Search\"\n                {...input}\n            />\n\n            {drop && <ul className=\"list-none absolute left-0 right-0 h-[200px] top-[42px] shadow-md overflow-y-scroll bg-white\">\n                {\n                    airports.map(airport => (\n                        <li className=\"mb-2 py-2 px-4 hover:bg-gray-500 hover:transition-colors cursor-pointer hover:text-white\"\n                            key={airport.id}\n                            onClick={() => navigate(`/airport/${airport.id}`)}\n                        >\n                            {airport.name}\n                        </li>\n                    ))\n                }\n            </ul>}\n        </div>\n    );\n}\n\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,QAAR,QAAuB,gBAAvB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,SAAQC,WAAR,QAA0B,kBAA1B;;AAIA,eAAe,SAASC,aAAT,GAAyB;EAAA;;EACpC,MAAMC,QAAQ,GAAGF,WAAW,EAA5B;EACA,MAAMG,KAAK,GAAGN,QAAQ,EAAtB;EACA,MAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,KAAD,CAAhC;EACA,MAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAa,EAAb,CAAxC;EACA,MAAMY,SAAS,GAAGV,WAAW,CAASK,KAAK,CAACM,KAAf,CAA7B;;EAEA,eAAeC,cAAf,GAAgC;IAC5B,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAqC,UAArC,EAAgD;MAACC,MAAM,EAAE;QAACC,MAAM,EAAEN,SAAT;QAAoBO,KAAK,EAAE;MAA3B;IAAT,CAAhD,CAAvB;IACAR,WAAW,CAACI,QAAQ,CAACK,IAAT,CAAcC,OAAf,CAAX;EACH;;EAEDtB,SAAS,CAAC,MAAM;IACZ,IAAIa,SAAS,CAACU,MAAV,GAAmB,CAAvB,EAA0B;MACtBR,cAAc,GAAGS,IAAjB,CAAsB,MAAMd,OAAO,CAAC,IAAD,CAAnC;IACH,CAFD,MAEO;MACHA,OAAO,CAAC,KAAD,CAAP;IACH;;IACDe,OAAO,CAACC,GAAR,CAAYb,SAAZ;EACH,CAPQ,EAON,CAACA,SAAD,CAPM,CAAT;EASA,oBACI;IAAK,SAAS,EAAC,eAAf;IAAA,wBACI;MACI,IAAI,EAAC,MADT;MAEI,SAAS,EAAC,iDAFd;MAGI,WAAW,EAAC,QAHhB;MAAA,GAIQL;IAJR;MAAA;MAAA;MAAA;IAAA,QADJ,EAQKC,IAAI,iBAAI;MAAI,SAAS,EAAC,6FAAd;MAAA,UAEDE,QAAQ,CAACgB,GAAT,CAAaC,OAAO,iBAChB;QAAI,SAAS,EAAC,0FAAd;QAEI,OAAO,EAAE,MAAMrB,QAAQ,CAAE,YAAWqB,OAAO,CAACC,EAAG,EAAxB,CAF3B;QAAA,UAIKD,OAAO,CAACE;MAJb,GACSF,OAAO,CAACC,EADjB;QAAA;QAAA;QAAA;MAAA,QADJ;IAFC;MAAA;MAAA;MAAA;IAAA,QARb;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAuBH;;GA5CuBvB,a;UACHD,W,EACHH,Q,EAGIC,W;;;KALEG,a"},"metadata":{},"sourceType":"module"}