{"ast":null,"code":"var _jsxFileName = \"/Users/alexander/Desktop/WebStormProj/spareact/src/components/AirportSearch.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useInput } from \"../hooks/input\";\nimport useDebounce from \"../hooks/debounce\";\nimport axios from \"../axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AirportSearch() {\n  _s();\n\n  const input = useInput();\n  const [airports, setAirports] = useState([]);\n  const debounced = useDebounce(input.value);\n\n  async function searchAirports() {\n    const response = await axios.get(`airports`, {\n      params: {\n        search: debounced,\n        count: 10\n      }\n    });\n    setAirports(response.data.results);\n  }\n\n  useEffect(() => {\n    if (debounced.length > 3) {\n      searchAirports();\n    }\n\n    console.log(debounced);\n  }, [debounced]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-4 relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"border py-2 px-4 mb-4 outline-0 w-full h-[42px]\",\n      placeholder: \"Search\",\n      ...input\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-none absolute left-0 right-0 h-[200px] top-[42px] shadow-md overflow-y-scroll bg-white\",\n      children: airports.map(airport => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"mb-2 py-2 px-4 hover:bg-gray-200 hover:transition-colors cursor-pointer\",\n        children: airport.name\n      }, airport.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AirportSearch, \"7ZMutxAHv5ydmPyT9zGRp8XOSwc=\", false, function () {\n  return [useInput, useDebounce];\n});\n\n_c = AirportSearch;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"AirportSearch\");","map":{"version":3,"names":["React","useEffect","useState","useInput","useDebounce","axios","AirportSearch","input","airports","setAirports","debounced","value","searchAirports","response","get","params","search","count","data","results","length","console","log","map","airport","name","id"],"sources":["/Users/alexander/Desktop/WebStormProj/spareact/src/components/AirportSearch.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useInput} from \"../hooks/input\";\nimport useDebounce from \"../hooks/debounce\";\nimport axios from \"../axios\";\nimport {IAirport, ServerResponse} from \"../models/models\";\n\n\n\nexport default function AirportSearch() {\n    const input = useInput()\n    const [airports, setAirports] = useState<IAirport[]>([])\n    const debounced = useDebounce<string>(input.value)\n\n    async function searchAirports() {\n        const response = await axios.get<ServerResponse<IAirport>>(`airports`, {params: {search: debounced, count: 10}})\n        setAirports(response.data.results)\n    }\n\n    useEffect(() => {\n        if (debounced.length > 3) {\n            searchAirports()\n        }\n        console.log(debounced)\n    }, [debounced])\n\n    return (\n        <div className=\"mb-4 relative\">\n            <input\n                type='text'\n                className=\"border py-2 px-4 mb-4 outline-0 w-full h-[42px]\"\n                placeholder=\"Search\"\n                {...input}\n            />\n\n            <ul className=\"list-none absolute left-0 right-0 h-[200px] top-[42px] shadow-md overflow-y-scroll bg-white\">\n                {\n                    airports.map(airport => (\n                        <li className=\"mb-2 py-2 px-4 hover:bg-gray-200 hover:transition-colors cursor-pointer\" key={airport.id}>{airport.name}</li>\n                    ))\n                }\n            </ul>\n        </div>\n    );\n};\n\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,QAAR,QAAuB,gBAAvB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,KAAP,MAAkB,UAAlB;;AAKA,eAAe,SAASC,aAAT,GAAyB;EAAA;;EACpC,MAAMC,KAAK,GAAGJ,QAAQ,EAAtB;EACA,MAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAa,EAAb,CAAxC;EACA,MAAMQ,SAAS,GAAGN,WAAW,CAASG,KAAK,CAACI,KAAf,CAA7B;;EAEA,eAAeC,cAAf,GAAgC;IAC5B,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAqC,UAArC,EAAgD;MAACC,MAAM,EAAE;QAACC,MAAM,EAAEN,SAAT;QAAoBO,KAAK,EAAE;MAA3B;IAAT,CAAhD,CAAvB;IACAR,WAAW,CAACI,QAAQ,CAACK,IAAT,CAAcC,OAAf,CAAX;EACH;;EAEDlB,SAAS,CAAC,MAAM;IACZ,IAAIS,SAAS,CAACU,MAAV,GAAmB,CAAvB,EAA0B;MACtBR,cAAc;IACjB;;IACDS,OAAO,CAACC,GAAR,CAAYZ,SAAZ;EACH,CALQ,EAKN,CAACA,SAAD,CALM,CAAT;EAOA,oBACI;IAAK,SAAS,EAAC,eAAf;IAAA,wBACI;MACI,IAAI,EAAC,MADT;MAEI,SAAS,EAAC,iDAFd;MAGI,WAAW,EAAC,QAHhB;MAAA,GAIQH;IAJR;MAAA;MAAA;MAAA;IAAA,QADJ,eAQI;MAAI,SAAS,EAAC,6FAAd;MAAA,UAEQC,QAAQ,CAACe,GAAT,CAAaC,OAAO,iBAChB;QAAI,SAAS,EAAC,yEAAd;QAAA,UAA0GA,OAAO,CAACC;MAAlH,GAA6FD,OAAO,CAACE,EAArG;QAAA;QAAA;QAAA;MAAA,QADJ;IAFR;MAAA;MAAA;MAAA;IAAA,QARJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAkBH;;GAnCuBpB,a;UACNH,Q,EAEIC,W;;;KAHEE,a;AAmCvB"},"metadata":{},"sourceType":"module"}