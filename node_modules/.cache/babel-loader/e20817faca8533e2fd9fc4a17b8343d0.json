{"ast":null,"code":"import axios from \"../../axios\";\nimport { airportSlice } from \"../slices/airportSlice\";\nexport const fetchAirports = function () {\n  let count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 50;\n  let page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return async dispatch => {\n    try {\n      dispatch(airportSlice.actions.fetching());\n      const response = await axios.get('http://docker.digital-spectr.ru:8888/api/airports?count=${count}&page=${page}', {\n        params: {\n          count,\n          page\n        }\n      });\n      dispatch(airportSlice.actions.fetchSucces({\n        airports: response.data.results,\n        count: response.data.count\n      }));\n    } catch (e) {\n      dispatch(airportSlice.actions.fetchError(e));\n    }\n  };\n};","map":{"version":3,"names":["axios","airportSlice","fetchAirports","count","page","dispatch","actions","fetching","response","get","params","fetchSucces","airports","data","results","e","fetchError"],"sources":["/Users/alexander/Desktop/WebStormProj/spareact/src/store/actions/airportAction.ts"],"sourcesContent":["\nimport axios from \"../../axios\";\nimport {AppDispatch} from \"../index\";\nimport {IAirport, ServerResponse} from \"../../models/models\";\nimport {airportSlice} from \"../slices/airportSlice\";\n\n\nexport const fetchAirports = (count = 50, page= 1) => {\n    return async (dispatch: AppDispatch) => {\n        try {\n            dispatch(airportSlice.actions.fetching())\n            const response = await axios.get<ServerResponse<IAirport>>('http://docker.digital-spectr.ru:8888/api/airports?count=${count}&page=${page}', {\n                params: {\n                    count,\n                    page\n                }\n            })\n            dispatch(airportSlice.actions.fetchSucces({\n                airports: response.data.results,\n                count: response.data.count\n            }))\n        } catch (e) {\n            dispatch(airportSlice.actions.fetchError(e as Error))\n        }\n\n    }\n}"],"mappings":"AACA,OAAOA,KAAP,MAAkB,aAAlB;AAGA,SAAQC,YAAR,QAA2B,wBAA3B;AAGA,OAAO,MAAMC,aAAa,GAAG,YAAyB;EAAA,IAAxBC,KAAwB,uEAAhB,EAAgB;EAAA,IAAZC,IAAY,uEAAN,CAAM;EAClD,OAAO,MAAOC,QAAP,IAAiC;IACpC,IAAI;MACAA,QAAQ,CAACJ,YAAY,CAACK,OAAb,CAAqBC,QAArB,EAAD,CAAR;MACA,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAoC,+EAApC,EAAqH;QACxIC,MAAM,EAAE;UACJP,KADI;UAEJC;QAFI;MADgI,CAArH,CAAvB;MAMAC,QAAQ,CAACJ,YAAY,CAACK,OAAb,CAAqBK,WAArB,CAAiC;QACtCC,QAAQ,EAAEJ,QAAQ,CAACK,IAAT,CAAcC,OADc;QAEtCX,KAAK,EAAEK,QAAQ,CAACK,IAAT,CAAcV;MAFiB,CAAjC,CAAD,CAAR;IAIH,CAZD,CAYE,OAAOY,CAAP,EAAU;MACRV,QAAQ,CAACJ,YAAY,CAACK,OAAb,CAAqBU,UAArB,CAAgCD,CAAhC,CAAD,CAAR;IACH;EAEJ,CAjBD;AAkBH,CAnBM"},"metadata":{},"sourceType":"module"}